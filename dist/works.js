(()=>{"use strict";function t(t){return e=this,n=void 0,r=function*(){const e=yield fetch(t);if(!e.ok)throw new Error(e.statusText);return yield e.json()},new((o=void 0)||(o=Promise))((function(t,a){function i(t){try{l(r.next(t))}catch(t){a(t)}}function c(t){try{l(r.throw(t))}catch(t){a(t)}}function l(e){var n;e.done?t(e.value):(n=e.value,n instanceof o?n:new o((function(t){t(n)}))).then(i,c)}l((r=r.apply(e,n||[])).next())}));var e,n,o,r}const e="https://kyonenya.github.io/";const n=36e5,o=24*n,r={second:1e3,minute:6e4,hour:n,day:o,month:2592e6,year:31104e6};function a(t,e){const n=t;return n.setDate(t.getDate()+e),function(t,e){return t.getTime()<e.getTime()}(new Date,n)}Object.keys(r),new Intl.DateTimeFormat("ja-JP",{dateStyle:"short"}),new Intl.DateTimeFormat("ja-JP",{dateStyle:"short",timeStyle:"short"}),new Intl.RelativeTimeFormat("ja-JP",{style:"narrow"});const i=["論文","発表","翻訳","書籍"];const c=t=>function(t){return t.replaceAll(/\[(.+?)\]\((.+?)\)/g,((t,e,n)=>(t=>{const{href:e,content:n,attributes:o=""}=t;return`<a href="${e}" target="_blank" rel="noopener" ${o}>${n}</a>`})({content:e,href:n})))}(t.replace(/——(?![^\(]*\))/g,'<span class="hp_kerning">——</span>')),l=t=>`<b>${c(t)}</b>`,u=t=>`\n  <li>\n    ${(function(t){var e,n,o,r,i;const c=null!==(o=null===(n=null===(e=t.issued)||void 0===e?void 0:e["date-parts"])||void 0===n?void 0:n[0])&&void 0!==o?o:null===(i=null===(r=null==t?void 0:t["event-date"])||void 0===r?void 0:r["date-parts"])||void 0===i?void 0:i[0];if(c)return a(function(t){const[e,n,o]=t;return new Date(e,n-1,o)}(c),30)}(t)?l:c)(t._bibliographyText)}\n  </li>\n`;!function(){var n,o,r,c;n=this,o=void 0,c=function*(){var n,o;n=(t=>{const e=(t=>Object.fromEntries(i.map((e=>[e,t.filter((t=>function(t){switch(t.type){case"article-journal":return t.translator?"翻訳":"論文";case"paper-conference":return"発表";case"book":return"書籍";default:return}}(t)===e))]))))(t);return`\n    <section class="ly_container">\n      <div class="bl_text">\n        <h2>業績一覧</h2>\n        ${i.map((t=>((t,e)=>t&&0!==t.length?`\n    <h3>${e}</h3>\n    <ol>\n      ${t.map((t=>u(t))).join("")}\n    </ol>`:"")(e[t],t))).join("")}\n      </div>\n    </section>`})(yield t("./works.json")),document.getElementById("root").innerHTML=n,o=window.location.href,/localhost:\d+/.test(o)&&document.querySelectorAll(`a[href^="${e}"]`).forEach((t=>{t.href="/"+t.href.replace(e,"")})),function(t){const e=document.getElementById("about");a(new Date(t.updatedAt),t.newDays)&&(null==e||e.addEventListener("click",(()=>{localStorage.setItem(t.updatedAt,"true")})),"true"!==localStorage.getItem(t.updatedAt)&&(null==e||e.classList.add("el_badge")))}(yield t("./about.json"))},new((r=void 0)||(r=Promise))((function(t,e){function a(t){try{l(c.next(t))}catch(t){e(t)}}function i(t){try{l(c.throw(t))}catch(t){e(t)}}function l(e){var n;e.done?t(e.value):(n=e.value,n instanceof r?n:new r((function(t){t(n)}))).then(a,i)}l((c=c.apply(n,o||[])).next())}))}()})();