(()=>{"use strict";const n=document.getElementById("root");document.querySelector(".el_logo_suffix"),document.querySelector("meta[name=description]");const t=["論文","発表","翻訳","書籍"];function e(n){var t,e,o,r,i;const a=null!==(o=null===(e=null===(t=n.issued)||void 0===t?void 0:t["date-parts"])||void 0===e?void 0:e[0])&&void 0!==o?o:null===(i=null===(r=null==n?void 0:n["event-date"])||void 0===r?void 0:r["date-parts"])||void 0===i?void 0:i[0];if(a)return function(n,t){const e=n;return e.setDate(n.getDate()+30),function(n,t){return new Date(n).getTime()<new Date(t).getTime()}(new Date,e)}(function(n){const[t,e,o]=n;return new Date(t,e-1,o)}(a))}new Intl.DateTimeFormat("ja-JP",{dateStyle:"short"}),new Intl.DateTimeFormat("ja-JP",{dateStyle:"short",timeStyle:"short"}),new Intl.RelativeTimeFormat("ja-JP",{style:"narrow"});const o=n=>`<li>${(n=>n.replaceAll(/\[(.+?)\]\((.+?)\)/g,((n,t,e)=>`<a href="${e}" target="_blank" rel="noopener">${t}</a>`)).replaceAll("——",'<span class="hp_kerning">——</span>'))(n)}</li>`,r=n=>`<strong>${o(n)}</strong>`,i=(n,t)=>n&&0!==n.length?`\n    <h3>${t}</h3>\n    <ol>\n      ${n.map((n=>(e(n)?r:o)(n._bibliographyText))).join("")}\n    </ol>`:"";!function(){var e,o,r,a;e=this,o=void 0,a=function*(){var e;e=(n=>{const e=(n=>Object.fromEntries(t.map((t=>[t,n.filter((n=>function(n){switch(n.type){case"article-journal":return n.translator?"翻訳":"論文";case"paper-conference":return"発表";case"book":return"書籍";default:return}}(n)===t))]))))(n);return`\n    <section class="ly_cont">\n    <div class="bl_text">\n      <h2>業績一覧</h2>\n      ${t.map((n=>i(e[n],n))).join("")}\n    </div>`})(yield function(n){return t=this,e=void 0,r=function*(){const n=yield fetch("./works.json");if(!n.ok)throw new Error(n.statusText);return yield n.json()},new((o=void 0)||(o=Promise))((function(n,i){function a(n){try{l(r.next(n))}catch(n){i(n)}}function c(n){try{l(r.throw(n))}catch(n){i(n)}}function l(t){var e;t.done?n(t.value):(e=t.value,e instanceof o?e:new o((function(n){n(e)}))).then(a,c)}l((r=r.apply(t,e||[])).next())}));var t,e,o,r}()),n.innerHTML=e},new((r=void 0)||(r=Promise))((function(n,t){function i(n){try{l(a.next(n))}catch(n){t(n)}}function c(n){try{l(a.throw(n))}catch(n){t(n)}}function l(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(n){n(e)}))).then(i,c)}l((a=a.apply(e,o||[])).next())}))}()})();