(()=>{"use strict";const t=document.getElementById("root");document.querySelector(".el_logo_suffix"),document.querySelector("meta[name=description]");const e=["論文","発表","翻訳","書籍"],n=36e5,o=24*n,r={second:1e3,minute:6e4,hour:n,day:o,month:2592e6,year:31104e6};Object.keys(r),new Intl.DateTimeFormat("ja-JP",{dateStyle:"short"}),new Intl.DateTimeFormat("ja-JP",{dateStyle:"short",timeStyle:"short"}),new Intl.RelativeTimeFormat("ja-JP",{style:"narrow"});const i=t=>`<li>${(t=>t.replaceAll(/\[(.+?)\]\((.+?)\)/g,((t,e,n)=>`<a href="${n}" target="_blank" rel="noopener">${e}</a>`)).replaceAll("——",'<span style="letter-spacing: -0.27em; margin: 0 0.17em 0 0;">——</span>'))(t)}</li>`,a=t=>`<strong>${i(t)}</strong>`,c=(t,e)=>t&&0!==t.length?`\n    <h3>${e}</h3>\n    <ol>\n      ${t.map((t=>(function(t){var e,n,o,r,i;const a=null!==(o=null===(n=null===(e=t.issued)||void 0===e?void 0:e["date-parts"])||void 0===n?void 0:n[0])&&void 0!==o?o:null===(i=null===(r=null==t?void 0:t["event-date"])||void 0===r?void 0:r["date-parts"])||void 0===i?void 0:i[0];if(a)return function(t,e){const n=t;return n.setDate(t.getDate()+30),function(t,e){return t.getTime()<e.getTime()}(new Date,n)}(function(t){const[e,n,o]=t;return new Date(e,n-1,o)}(a))}(t)?a:i)(t._bibliographyText))).join("")}\n    </ol>`:"";!function(){var n,o,r,i;n=this,o=void 0,i=function*(){var n;n=(t=>{const n=(t=>Object.fromEntries(e.map((e=>[e,t.filter((t=>function(t){switch(t.type){case"article-journal":return t.translator?"翻訳":"論文";case"paper-conference":return"発表";case"book":return"書籍";default:return}}(t)===e))]))))(t);return`\n    <section class="ly_cont">\n    <div class="bl_text">\n      <h2>業績一覧</h2>\n      ${e.map((t=>c(n[t],t))).join("")}\n    </div>`})(yield function(t){return e=this,n=void 0,r=function*(){const t=yield fetch("./works.json");if(!t.ok)throw new Error(t.statusText);return yield t.json()},new((o=void 0)||(o=Promise))((function(t,i){function a(t){try{l(r.next(t))}catch(t){i(t)}}function c(t){try{l(r.throw(t))}catch(t){i(t)}}function l(e){var n;e.done?t(e.value):(n=e.value,n instanceof o?n:new o((function(t){t(n)}))).then(a,c)}l((r=r.apply(e,n||[])).next())}));var e,n,o,r}()),t.innerHTML=n},new((r=void 0)||(r=Promise))((function(t,e){function a(t){try{l(i.next(t))}catch(t){e(t)}}function c(t){try{l(i.throw(t))}catch(t){e(t)}}function l(e){var n;e.done?t(e.value):(n=e.value,n instanceof r?n:new r((function(t){t(n)}))).then(a,c)}l((i=i.apply(n,o||[])).next())}))}()})();