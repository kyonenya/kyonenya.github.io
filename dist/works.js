(()=>{"use strict";const e=document.getElementById("root");document.querySelector(".el_logo_suffix"),document.querySelector("meta[name=description]");const t=["論文","発表","翻訳","書籍"],n=36e5,o=24*n,r={second:1e3,minute:6e4,hour:n,day:o,month:2592e6,year:31104e6};function i(e){var t,n,o,r,i;const a=null!==(o=null===(n=null===(t=e.issued)||void 0===t?void 0:t["date-parts"])||void 0===n?void 0:n[0])&&void 0!==o?o:null===(i=null===(r=null==e?void 0:e["event-date"])||void 0===r?void 0:r["date-parts"])||void 0===i?void 0:i[0];if(a)return function(e,t){const n=e;return n.setDate(e.getDate()+30),function(e,t){return new Date(e).getTime()<new Date(t).getTime()}(new Date,n)}(function(e){const[t,n,o]=e;return new Date(t,n-1,o)}(a))}Object.keys(r),new Intl.DateTimeFormat("ja-JP",{dateStyle:"short"}),new Intl.DateTimeFormat("ja-JP",{dateStyle:"short",timeStyle:"short"}),new Intl.RelativeTimeFormat("ja-JP",{style:"narrow"});const a=e=>`<li>${(e=>e.replaceAll(/\[(.+?)\]\((.+?)\)/g,((e,t,n)=>`<a href="${n}" target="_blank" rel="noopener">${t}</a>`)).replaceAll("——",'<span style="letter-spacing: -0.27em; margin: 0 0.17em 0 0;">——</span>'))(e)}</li>`,c=e=>`<strong>${a(e)}</strong>`,l=(e,t)=>e&&0!==e.length?`\n    <h3>${t}</h3>\n    <ol>\n      ${e.map((e=>(i(e)?c:a)(e._bibliographyText))).join("")}\n    </ol>`:"";!function(){var n,o,r,i;n=this,o=void 0,i=function*(){var n;n=(e=>{const n=(e=>Object.fromEntries(t.map((t=>[t,e.filter((e=>function(e){switch(e.type){case"article-journal":return e.translator?"翻訳":"論文";case"paper-conference":return"発表";case"book":return"書籍";default:return}}(e)===t))]))))(e);return`\n    <section class="ly_cont">\n    <div class="bl_text">\n      <h2>業績一覧</h2>\n      ${t.map((e=>l(n[e],e))).join("")}\n    </div>`})(yield function(e){return t=this,n=void 0,r=function*(){const e=yield fetch("./works.json");if(!e.ok)throw new Error(e.statusText);return yield e.json()},new((o=void 0)||(o=Promise))((function(e,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function c(e){try{l(r.throw(e))}catch(e){i(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof o?n:new o((function(e){e(n)}))).then(a,c)}l((r=r.apply(t,n||[])).next())}));var t,n,o,r}()),e.innerHTML=n},new((r=void 0)||(r=Promise))((function(e,t){function a(e){try{l(i.next(e))}catch(e){t(e)}}function c(e){try{l(i.throw(e))}catch(e){t(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r((function(e){e(n)}))).then(a,c)}l((i=i.apply(n,o||[])).next())}))}()})();