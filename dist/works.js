(()=>{"use strict";const n=["論文","発表","翻訳","書籍"],t=36e5,e=24*t,o={second:1e3,minute:6e4,hour:t,day:e,month:2592e6,year:31104e6};Object.keys(o),new Intl.DateTimeFormat("ja-JP",{dateStyle:"short"}),new Intl.DateTimeFormat("ja-JP",{dateStyle:"short",timeStyle:"short"}),new Intl.RelativeTimeFormat("ja-JP",{style:"narrow"});const r=n=>`<li>${(n=>n.replaceAll(/\[(.+?)\]\((.+?)\)/g,((n,t,e)=>`<a href="${e}" target="_blank" rel="noopener">${t}</a>`)).replaceAll("——",'<span class="hp_kerning">——</span>'))(n)}</li>`,i=n=>`<strong>${r(n)}</strong>`,a=(n,t)=>n&&0!==n.length?`\n    <h3>${t}</h3>\n    <ol>\n      ${n.map((n=>(function(n){var t,e,o,r,i;const a=null!==(o=null===(e=null===(t=n.issued)||void 0===t?void 0:t["date-parts"])||void 0===e?void 0:e[0])&&void 0!==o?o:null===(i=null===(r=null==n?void 0:n["event-date"])||void 0===r?void 0:r["date-parts"])||void 0===i?void 0:i[0];if(a)return function(n,t){const e=n;return e.setDate(n.getDate()+30),function(n,t){return n.getTime()<t.getTime()}(new Date,e)}(function(n){const[t,e,o]=n;return new Date(t,e-1,o)}(a))}(n)?i:r)(n._bibliographyText))).join("")}\n    </ol>`:"";!function(){var t,e,o,r;t=this,e=void 0,r=function*(){var t;t=(t=>{const e=(t=>Object.fromEntries(n.map((n=>[n,t.filter((t=>function(n){switch(n.type){case"article-journal":return n.translator?"翻訳":"論文";case"paper-conference":return"発表";case"book":return"書籍";default:return}}(t)===n))]))))(t);return`\n    <section class="ly_container">\n      <div class="bl_text">\n        <h2>業績一覧</h2>\n        ${n.map((n=>a(e[n],n))).join("")}\n      </div>\n    </section>`})(yield function(n){return t=this,e=void 0,r=function*(){const n=yield fetch("./works.json");if(!n.ok)throw new Error(n.statusText);return yield n.json()},new((o=void 0)||(o=Promise))((function(n,i){function a(n){try{l(r.next(n))}catch(n){i(n)}}function c(n){try{l(r.throw(n))}catch(n){i(n)}}function l(t){var e;t.done?n(t.value):(e=t.value,e instanceof o?e:new o((function(n){n(e)}))).then(a,c)}l((r=r.apply(t,e||[])).next())}));var t,e,o,r}()),document.getElementById("root").innerHTML=t},new((o=void 0)||(o=Promise))((function(n,i){function a(n){try{l(r.next(n))}catch(n){i(n)}}function c(n){try{l(r.throw(n))}catch(n){i(n)}}function l(t){var e;t.done?n(t.value):(e=t.value,e instanceof o?e:new o((function(n){n(e)}))).then(a,c)}l((r=r.apply(t,e||[])).next())}))}()})();