(()=>{"use strict";function e(e){return t=this,n=void 0,r=function*(){const t=yield fetch(e);if(!t.ok)throw new Error(t.statusText);return yield t.json()},new((o=void 0)||(o=Promise))((function(e,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function c(e){try{l(r.throw(e))}catch(e){a(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof o?n:new o((function(e){e(n)}))).then(i,c)}l((r=r.apply(t,n||[])).next())}));var t,n,o,r}const t="https://kyonenya.github.io/";const n=36e5,o=24*n,r={second:1e3,minute:6e4,hour:n,day:o,month:2592e6,year:31104e6};Object.keys(r),new Intl.DateTimeFormat("ja-JP",{dateStyle:"short"}),new Intl.DateTimeFormat("ja-JP",{dateStyle:"short",timeStyle:"short"}),new Intl.RelativeTimeFormat("ja-JP",{style:"narrow"});const a=["書籍","学位論文","論文","発表","翻訳"];const i=e=>function(e){return e.replaceAll(/\[(.+?)\]\((.+?)\)/g,((e,t,n)=>(e=>{const{href:t,content:n,attributes:o=""}=e;return`<a href="${t}" target="_blank" rel="noopener" ${o}>${n}</a>`})({content:t,href:n})))}(e.replace(/——(?![^(]*\))/g,'<span class="hp_kerning">——</span>')),c=e=>`<b>${i(e)}</b>`,l=(e,t,n)=>{const o=e.id.toString()===n,r=o?`<a href="?" class="el_olNum hp_highlight hp_unsetLink"><b>${t}.</b></a>`:`<span class="el_olNum">${t}.</span>`,a=function(e){var t,n,o,r,a;const i=null!==(o=null===(n=null===(t=e.issued)||void 0===t?void 0:t["date-parts"])||void 0===n?void 0:n[0])&&void 0!==o?o:null===(a=null===(r=e["event-date"])||void 0===r?void 0:r["date-parts"])||void 0===a?void 0:a[0];if(i)return new Date<function(e){const[t,n,o]=e;return new Date(t,n-1,o)}(i)}(e)?"paper-conference"===e.type?"［発表予定］":"［刊行予定］":"";return`\n    <li id="${e.id}">\n      ${r}\n      ${(o?c:i)(e._bibliographyText)}${a}\n    </li>\n  `};!function(){var n,o,r,i;n=this,o=void 0,i=function*(){const n=yield e("./works.json"),o=decodeURIComponent(window.location.hash.replace("#",""));var r,i;r=((e,t)=>{const n=(e=>Object.fromEntries(a.map((t=>[t,e.filter((e=>function(e){switch(e.type){case"book":return"書籍";case"article-journal":return e.translator?"翻訳":"論文";case"paper-conference":return"発表";case"thesis":return"学位論文";default:return}}(e)===t))]))))(e);return`\n    <section class="ly_container">\n      <div class="bl_text">\n        <h2>業績一覧</h2>\n        ${a.map((e=>((e,t,n)=>e&&0!==e.length?`\n    <h3>${t}</h3>\n    <ol>\n      ${e.map(((e,t)=>l(e,t+1,n))).join("")}\n    </ol>`:"")(n[e],e,t))).join("")}\n      </div>\n    </section>`})(n,o),document.getElementById("root").innerHTML=r,i=window.location.href,/localhost:\d+/.test(i)&&document.querySelectorAll(`a[href^="${t}"]`).forEach((e=>{e.href="/"+e.href.replace(t,"")})),function({updatedAt:e,newDays:t}){const n=document.getElementById("about");!function(e,t){const n=e;return n.setDate(e.getDate()+t),function(e,t){return e.getTime()<t.getTime()}(new Date,n)}(new Date(e),t)||t<=0||(null==n||n.addEventListener("click",(()=>{localStorage.setItem(e,"true")})),"true"!==localStorage.getItem(e)&&(null==n||n.classList.add("el_badge")))}(yield e("./about.json"))},new((r=void 0)||(r=Promise))((function(e,t){function a(e){try{l(i.next(e))}catch(e){t(e)}}function c(e){try{l(i.throw(e))}catch(e){t(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r((function(e){e(n)}))).then(a,c)}l((i=i.apply(n,o||[])).next())}))}()})();