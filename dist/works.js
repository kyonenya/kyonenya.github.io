(()=>{"use strict";function t(t){return e=this,n=void 0,r=function*(){const e=yield fetch(t);if(!e.ok)throw new Error(e.statusText);return yield e.json()},new((o=void 0)||(o=Promise))((function(t,a){function c(t){try{l(r.next(t))}catch(t){a(t)}}function i(t){try{l(r.throw(t))}catch(t){a(t)}}function l(e){var n;e.done?t(e.value):(n=e.value,n instanceof o?n:new o((function(t){t(n)}))).then(c,i)}l((r=r.apply(e,n||[])).next())}));var e,n,o,r}const e="https://kyonenya.github.io/";const n=36e5,o=24*n,r={second:1e3,minute:6e4,hour:n,day:o,month:2592e6,year:31104e6};Object.keys(r),new Intl.DateTimeFormat("ja-JP",{dateStyle:"short"}),new Intl.DateTimeFormat("ja-JP",{dateStyle:"short",timeStyle:"short"}),new Intl.RelativeTimeFormat("ja-JP",{style:"narrow"});const a=["書籍","論文","発表","翻訳"];!function(){var n,o,r,c;n=this,o=void 0,c=function*(){var n,o;n=(t=>{const e=(t=>Object.fromEntries(a.map((e=>[e,t.filter((t=>function(t){switch(t.type){case"book":return"書籍";case"article-journal":return t.translator?"翻訳":"論文";case"paper-conference":return"発表";default:return}}(t)===e))]))))(t);return`\n    <section class="ly_container">\n      <div class="bl_text">\n        <h2>業績一覧</h2>\n        ${a.map((t=>((t,e)=>t&&0!==t.length?`\n    <h3>${e}</h3>\n    <ol>\n      ${t.map((t=>(t=>{return`\n  <li>\n    ${e=t._bibliographyText,function(t){return t.replaceAll(/\[(.+?)\]\((.+?)\)/g,((t,e,n)=>(t=>{const{href:e,content:n,attributes:o=""}=t;return`<a href="${e}" target="_blank" rel="noopener" ${o}>${n}</a>`})({content:e,href:n})))}(e.replace(/——(?![^(]*\))/g,'<span class="hp_kerning">——</span>'))}\n  </li>\n`;var e})(t))).join("")}\n    </ol>`:"")(e[t],t))).join("")}\n      </div>\n    </section>`})(yield t("./works.json")),document.getElementById("root").innerHTML=n,o=window.location.href,/localhost:\d+/.test(o)&&document.querySelectorAll(`a[href^="${e}"]`).forEach((t=>{t.href="/"+t.href.replace(e,"")})),function({updatedAt:t,newDays:e}){const n=document.getElementById("about");!function(t,e){const n=t;return n.setDate(t.getDate()+e),function(t,e){return t.getTime()<e.getTime()}(new Date,n)}(new Date(t),e)||e<=0||(null==n||n.addEventListener("click",(()=>{localStorage.setItem(t,"true")})),"true"!==localStorage.getItem(t)&&(null==n||n.classList.add("el_badge")))}(yield t("./about.json"))},new((r=void 0)||(r=Promise))((function(t,e){function a(t){try{l(c.next(t))}catch(t){e(t)}}function i(t){try{l(c.throw(t))}catch(t){e(t)}}function l(e){var n;e.done?t(e.value):(n=e.value,n instanceof r?n:new r((function(t){t(n)}))).then(a,i)}l((c=c.apply(n,o||[])).next())}))}()})();