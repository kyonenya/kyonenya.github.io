(()=>{"use strict";var e={636:(e,t)=>{t.h8=t.Kx=t.O6=t.o=void 0,t.o=e=>(t,n)=>{if(void 0===n)return;const{maxLength:o=50,beforeLength:i=20}=null!=e?e:{},r=t.indexOf(n);if(-1===r)return;const s=r-i<=0?0:r-i,l=r+n.length,a=s+o;return{isBeforeEllipsed:0!==s,beforeText:t.substring(s,r),keyword:t.substring(r,l),afterText:t.substring(l,a),isAfterEllipsed:a<t.length}},t.O6=(e,n,o)=>(0,t.o)(o)(e,n),t.Kx=e=>(n,o)=>{const i=(0,t.O6)(n,o,e);if(void 0===i)return;const{elipsisToken:r="...",keywordModifier:s=(e=>e)}=null!=e?e:{};return(i.isBeforeEllipsed?r:"")+i.beforeText+s(i.keyword)+i.afterText+(i.isAfterEllipsed?r:"")},t.h8=(e,n,o)=>(0,t.Kx)(o)(e,n)}},t={};function n(o){var i=t[o];if(void 0!==i)return i.exports;var r=t[o]={exports:{}};return e[o](r,r.exports,n),r.exports}(()=>{const e=e=>`#${e}`,t=(t,n)=>`\n  <li>\n    <a href="?tag=${t}" class="hp_unsetLink">\n      ${t===n?`<b>${e(t)}</b>`:e(t)}\n    </a>\n  </li>`,o=(e,n)=>`\n  <ul class="el_tagList">\n    ${e.map((e=>t(e,n))).join("")}\n  </ul>\n`,i=36e5,r=24*i,s={second:1e3,minute:6e4,hour:i,day:r,month:2592e6,year:31104e6},l=Object.keys(s);function a(e,t){return e/s[t]}const c=new Intl.DateTimeFormat("ja-JP",{dateStyle:"short"}),d=new Intl.DateTimeFormat("ja-JP",{dateStyle:"short",timeStyle:"short"}),u=new Intl.RelativeTimeFormat("ja-JP",{style:"narrow"});function p(e){return c.format(e).replaceAll("/","-")}function f(e,t){return e.getTime()<t.getTime()}const h={second:45,minute:45,hour:22,day:26,month:11,year:1/0};function m(e){const t=e.getTime()-(new Date).getTime(),n=l.find((e=>Math.abs(a(t,e))<h[e]));return n?u.format(Math.round(a(t,n)),n):""}const g=window.matchMedia("(max-width: 559px)");let b=g.matches;function v(){return{isMobile:b}}const _=e=>`\n  <p class="bl_blogCard_summary hp_alignJustify">\n    ${e.substring(0,74)}…\n  </p>\n`,y=e=>`\n  <p class="bl_blogCard_summary hp_ellipsis433">\n    ${e.substring(0,200)}\n  </p>\n`;function w(e){return/localhost:\d+/.test(e)}const $="2022-02-02";function x(e){return/\+\d\d/.test(e)?new Date(e):new Date(`${e}+09:00`)}function L(e,t){const n=new URLSearchParams(e),o=n.get("id"),i=n.get("tag");return{id:o?parseInt(o,10):void 0,tag:null!=i?i:void 0,keyword:void 0===t||""===t?void 0:decodeURIComponent(t.replace("#",""))}}const A=e=>{return`\n  <section class="ly_container">\n    <article>\n      <header class="bl_text_header">\n        <time class="bl_text_date">\n          ${n=e.createdAt,d.format(n).replaceAll("/","-")}\n        </time>\n      </header>\n      <div class="bl_text">\n        ${e.title?`<h1>${e.title}</h1>`:""}\n        ${(e=>e.replaceAll("——","──").replaceAll(/([！？])　/g,((e,t)=>`${t} `)).replaceAll(/<p>([「『（].+?)<\/p>/g,((e,t)=>`<p style="text-indent: 0">${t}</p>`)))((t=e.text,t.replaceAll(/<a href=['"]([^?].+?)['"](.*?)>(.+?)<\/a>/g,((e,t,n,o)=>(e=>{const{href:t,content:n,attributes:o=""}=e;return`<a href="${t}" target="_blank" rel="noopener" ${o}>${n}</a>`})({href:t,attributes:n,content:o})))))}\n      </div>\n      <footer class="bl_text_footer">\n        <span class="bl_posts_dateago">\n          ${m(e.createdAt)}\n        </span>\n        ${o(e.tags)}\n      </footer>\n    </article>\n  </section>`;var t,n};var k=n(636);const T=e=>`<span class="hp_highlight">${e}</span>`,S=e=>`\n  <div class="bl_postList_summary">\n    <p class="hp_alignJustify">\n      ${e.substring(0,134)+"…"}\n    </p>\n  </div>`,E=e=>`\n  <div class="bl_postList_summary">\n    <p class="hp_ellipsis654">\n      ${e.substring(0,250)}\n    </p>\n  </div>`,j=e=>{const{post:t,tag:n,keyword:i}=e,{isMobile:r}=v(),s=(0,k.h8)(t.plainText,i,{maxLength:200,beforeLength:48,keywordModifier:T});return`\n    <li\n      class="bl_postList_item"\n      style="display: ${!i||s||t.title&&-1!==t.title.indexOf(i)?"block":"none"}"\n    >\n      <a href="?id=${t.id}">\n        <header class="bl_postList_header">\n          <time class="bl_postList_date">\n            ${p(t.createdAt)}\n          </time>\n        </header>\n        ${t.title?((e,t)=>`\n  <h2 class="bl_postList_title">\n    ${((e,t)=>t?e.replace(t,T(t)):e)(e,t)}\n  </h2>`)(t.title,i):""}\n        ${s?(e=>`\n  <div class="bl_postList_summary">\n    <p class="hp_ellipsis433">\n      ${e}\n    </p>\n  </div>`)(s):(r?S:E)(t.plainText)}\n      </a>\n      <footer class="bl_postList_footer">\n        <span class="bl_postList_dateago">\n          ${m(t.createdAt)}\n        </span>\n        ${o(t.tags,n)}\n      </footer>\n    </li>`},D=(e,t)=>`\n  <section class="ly_container">\n    ${t?`<h2 class="el_archiveHeader">${t}</h2>`:""}\n    <ul class="bl_postList">\n      ${e}\n    </ul>\n  </section>`,q=e=>D(e.map(((t,n)=>j({post:e[n]}))).reverse().join("")),C=(e,t)=>D(e.map(((n,o)=>n.tags.includes(t)?j({post:e[o],tag:t}):"")).reverse().join(""),`#${t}`),I=(e,t,n)=>D(e.map(((o,i)=>void 0===n||o.tags.includes(n)?j({post:e[i],tag:n,keyword:t}):"")).reverse().join(""),`「${t}」`),M="https://kyonenya.github.io/";function O(e){var t;const n=document.querySelector(".el_logo_suffix"),o=document.querySelector("meta[name=description]");var i;if(i=e.body,document.getElementById("root").innerHTML=i,w(window.location.href)&&document.querySelectorAll(`a[href^="${M}"]`).forEach((e=>{e.href="/"+e.href.replace(M,"")})),document.title=e.title,n.innerText=null!==(t=e.suffix)&&void 0!==t?t:"",e.description&&(o.content=e.description),e.href){document.querySelectorAll('link[rel="canonical"]').forEach((e=>e.remove()));const t=document.createElement("link");t.rel="canonical",t.href=e.href,document.head.appendChild(t)}}const P=document.querySelector(".el_search_input");function B(e){const{id:t,tag:n,keyword:o}=L(window.location.search,window.location.hash),i=w(window.location.href)?e:function(e){return e.filter((e=>f(e.createdAt,new Date)))}(e);if(window.scrollTo(0,0),P&&(P.style.display="block"),void 0!==t){const e=i.find((e=>e.id===t));if(!e)return;(e=>{O({body:A(e),title:e.title?`${e.title}｜placet experiri :: ${e.id}`:`placet experiri :: ${e.id}`,suffix:` :: ${e.id}`,description:`${e.plainText.substring(0,110)}…`,href:`${M}?id=${e.id}`}),P&&(P.style.display="none")})(e)}else void 0!==o?((e,t,n)=>{O({body:I(e,t,n),title:`「${t}」｜placet experiri`})})(i,o,n):void 0!==n?((e,t)=>{O({body:C(e,t),title:`#${t}｜placet experiri`,href:`${M}?tag=${t}`})})(i,n):(e=>{O({body:q(e),title:"placet experiri",href:M})})(i);return(e=>{document.querySelectorAll('a[href^="?"]').forEach((t=>{t.onclick=n=>{n.preventDefault(),window.history.pushState(void 0,"",t.href),t.hash||B(e)}})),document.querySelectorAll('a[href^="#"]').forEach((e=>{e.onclick=t=>{t.preventDefault(),window.history.pushState(void 0,"",e.href);const n=document.querySelector(e.hash);n&&window.scrollTo({top:window.pageYOffset+n.getBoundingClientRect().top,behavior:"smooth"})}}))})(i)}!function(){var e,n,o,i;e=this,n=void 0,i=function*(){const e=function(e){return[...e].reverse().map((e=>Object.assign(Object.assign({},e),{title:null===e.title||""===e.title?void 0:e.title,plainText:e.text.replaceAll(/<blockquote>(.+?)<\/blockquote>/g,((e,t)=>`> ${t}`)).replaceAll(/<("[^"]*"|'[^']*'|[^'">])*>/g,""),createdAt:x(e.createdAt),modifiedAt:x(e.modifiedAt)})))}(yield function(e){return t=this,n=void 0,i=function*(){const e=yield fetch("./posts.json");if(!e.ok)throw new Error(e.statusText);return yield e.json()},new((o=void 0)||(o=Promise))((function(e,r){function s(e){try{a(i.next(e))}catch(e){r(e)}}function l(e){try{a(i.throw(e))}catch(e){r(e)}}function a(t){var n;t.done?e(t.value):(n=t.value,n instanceof o?n:new o((function(e){e(n)}))).then(s,l)}a((i=i.apply(t,n||[])).next())}));var t,n,o,i}());var n;B(e),function(e){window.addEventListener("popstate",(()=>{window.location.hash||e()}))}(n=()=>B(e)),function(e){const t=document.querySelector(".el_search_form"),n=document.querySelector(".el_search_input");null==t||t.addEventListener("submit",(t=>{t.preventDefault(),window.history.pushState(L(window.location.search,"#{searchInputElement.value}"),"",`${window.location.search}#${n.value}`),e()}))}(n),function(e){g.addListener((t=>{b=t.matches,e()}))}(n),function(e){class n extends HTMLElement{constructor(){super();const n=this.getAttribute("id");if(!n)return;const o=e.find((e=>e.id===parseInt(n,10)));o&&(this.innerHTML=(e=>{const{isMobile:n}=v();return`\n    <div class="bl_blogCard">\n      <a href="?id=${e.id}" class="hp_unsetLink">\n        <header>\n          <div class="bl_blogCard_icon"></div>\n          <span class="bl_blogCard_logo">placet experiri</span>\n          <span class="bl_blogCard_suffix">:: ${e.id}</span>\n        </header>\n        ${e.title?`<div class="bl_blogCard_title">${e.title}</div>`:""}\n        ${(n?_:y)(e.plainText)}\n        <footer>\n          <span>${p(e.createdAt)}</span>\n          <ul class="bl_blogCard_tagList">\n            ${e.tags.map((e=>t(e))).join("")}\n          </ul>\n        </footer>\n      </a>\n    </div>`})(o))}}window.customElements.define("blog-card",n)}(e),function(){const e=document.getElementById("about");(function(e,t){const n=e;return n.setDate(e.getDate()+15),f(new Date,n)})(new Date($))&&(null==e||e.addEventListener("click",(()=>{localStorage.setItem($,"true")})),"true"!==localStorage.getItem($)&&(null==e||e.classList.add("el_badge")))}()},new((o=void 0)||(o=Promise))((function(t,r){function s(e){try{a(i.next(e))}catch(e){r(e)}}function l(e){try{a(i.throw(e))}catch(e){r(e)}}function a(e){var n;e.done?t(e.value):(n=e.value,n instanceof o?n:new o((function(e){e(n)}))).then(s,l)}a((i=i.apply(e,n||[])).next())}))}()})()})();