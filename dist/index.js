(()=>{"use strict";var e={636:(e,n)=>{n.h8=n.Kx=n.O6=n.o=void 0,n.o=e=>(n,t)=>{if(void 0===t)return;const{maxLength:i=50,beforeLength:o=20}=null!=e?e:{},r=n.indexOf(t);if(-1===r)return;const a=r-o<=0?0:r-o,s=r+t.length,l=a+i;return{isBeforeEllipsed:0!==a,beforeText:n.substring(a,r),keyword:n.substring(r,s),afterText:n.substring(s,l),isAfterEllipsed:l<n.length}},n.O6=(e,t,i)=>(0,n.o)(i)(e,t),n.Kx=e=>(t,i)=>{const o=(0,n.O6)(t,i,e);if(void 0===o)return;const{elipsisToken:r="...",keywordModifier:a=(e=>e)}=null!=e?e:{};return(o.isBeforeEllipsed?r:"")+o.beforeText+a(o.keyword)+o.afterText+(o.isAfterEllipsed?r:"")},n.h8=(e,t,i)=>(0,n.Kx)(i)(e,t)}},n={};function t(i){var o=n[i];if(void 0!==o)return o.exports;var r=n[i]={exports:{}};return e[i](r,r.exports,t),r.exports}(()=>{const e=e=>`#${e}`,n=(n,t)=>`\n  <li>\n    <a href="?tag=${n}" class="hp_unsetLink">\n      ${n===t?(n=>`<strong>${e(n)}</strong>`)(n):e(n)}\n    </a>\n  </li>`,i=(e,t)=>`\n  <ul class="bl_tagList">\n    ${e.map((e=>n(e,t))).join("")}\n  </ul>\n`,o=36e5,r=24*o,a={second:1e3,minute:6e4,hour:o,day:r,month:2592e6,year:31104e6},s=Object.keys(a);function l(e,n){return e/a[n]}const c=new Intl.DateTimeFormat("ja-JP",{dateStyle:"short"}),d=new Intl.DateTimeFormat("ja-JP",{dateStyle:"short",timeStyle:"short"}),u=new Intl.RelativeTimeFormat("ja-JP",{style:"narrow"});function p(e){return c.format(e).replaceAll("/","-")}function f(e,n){return e.getTime()<n.getTime()}const h={second:45,minute:45,hour:22,day:26,month:11,year:1/0};function m(e){const n=e.getTime()-(new Date).getTime(),t=s.find((e=>Math.abs(Math.round(l(n,e)))<h[e]));return t?u.format(Math.round(l(n,t)),t):""}const g=window.matchMedia("(max-width: 559px)");let b=g.matches;function v(){return{isMobile:b}}const x=e=>`\n  <p class="text hp_alignJustify">\n    ${e.substring(0,74)}…\n  </p>\n`,_=e=>`\n  <p class="text hp_ellipsis433">\n    ${e.substring(0,200)}\n  </p>\n`;const w="2022-02-02";function y(e){return/\+\d\d/.test(e)?new Date(e):new Date(`${e}+09:00`)}function $(e,n){const t=new URLSearchParams(e),i=t.get("id"),o=t.get("tag");return{id:i?parseInt(i,10):void 0,tag:null!=o?o:void 0,keyword:void 0===n||""===n?void 0:decodeURIComponent(n.replace("#",""))}}const k=e=>{return`\n  <article>\n    <header class="bl_text_header">\n      <time class="bl_text_date">\n        ${n=e.createdAt,d.format(n).replaceAll("/","-")}\n      </time>\n    </header>\n    <div class="bl_text">\n      ${e.title?`<h1>${e.title}</h1>`:""}\n      ${e.text}\n    </div>\n    <footer class="bl_text_footer">\n      <span class="bl_posts_dateago">\n        ${m(e.createdAt)}\n      </span>\n      ${i(e.tags)}\n    </footer>\n  </article>`;var n};var T=t(636);const A=e=>`<span class="hp_highlight">${e}</span>`,L=e=>`\n  <div class="bl_posts_summary">\n    <p class="hp_alignJustify">\n      ${e.substring(0,134)+"…"}\n    </p>\n  </div>`,E=e=>`\n  <div class="bl_posts_summary">\n    <p class="hp_ellipsis654">\n      ${e.substring(0,250)}\n    </p>\n  </div>`,S=e=>{const{post:n,tag:t,keyword:o}=e,{isMobile:r}=v(),a=(0,T.h8)(n.plainText,o,{maxLength:200,beforeLength:48,keywordModifier:A});return`\n    <li\n      class="bl_posts_item"\n      style="display: ${!o||a||n.title&&-1!==n.title.indexOf(o)?"block":"none"}"\n    >\n      <a href="?id=${n.id}">\n        <header class="bl_posts_header">\n          <time class="bl_posts_date">\n            ${p(n.createdAt)}\n          </time>\n        </header>\n        ${n.title?((e,n)=>`\n  <h2 class="bl_posts_title">\n    ${((e,n)=>n?e.replace(n,A(n)):e)(e,n)}\n  </h2>`)(n.title,o):""}\n        ${a?(e=>`\n  <div class="bl_posts_summary">\n    <p class="hp_ellipsis433">\n      ${e}\n    </p>\n  </div>`)(a):(r?L:E)(n.plainText)}\n      </a>\n      <footer class="bl_posts_footer">\n        <span class="bl_posts_dateago">\n          ${m(n.createdAt)}\n        </span>\n        ${i(n.tags,t)}\n      </footer>\n    </li>`},C=e=>`\n  <ul class="bl_posts">\n    ${e.map(((n,t)=>S({post:e[t]}))).reverse().join("")}\n  </ul>`,j=(e,n)=>`\n  <h2 class="el_archiveHeader">#${n}</h2>\n  <ul class="bl_posts">\n    ${e.map(((t,i)=>t.tags.includes(n)?S({post:e[i],tag:n}):"")).reverse().join("")}\n  </ul>`,D=(e,n,t)=>`\n  <h2 class="el_archiveHeader">「${n}」</h2>\n  <ul class="bl_posts">\n    ${e.map(((i,o)=>void 0===t||i.tags.includes(t)?S({post:e[o],tag:t,keyword:n}):"")).reverse().join("")}\n  </ul>`;function M(e){var n;const t=document.querySelector(".el_logo_suffix"),i=document.querySelector("meta[name=description]");var o;if(o=e.body,document.getElementById("root").innerHTML=o,document.title=e.title,t.innerText=null!==(n=e.suffix)&&void 0!==n?n:"",e.description&&(i.content=e.description),e.href){document.querySelectorAll('link[rel="canonical"]').forEach((e=>e.remove()));const n=document.createElement("link");n.rel="canonical",n.href=e.href,document.head.appendChild(n)}}const I="https://kyonenya.github.io/",O=document.querySelector(".el_search_input");function q(e){const{id:n,tag:t,keyword:i}=$(window.location.search,window.location.hash),o=(r=window.location.href,/localhost:\d+/.test(r)?e:function(e){return e.filter((e=>f(e.createdAt,new Date)))}(e));var r;if(window.scrollTo(0,0),null==O||O.classList.remove("hp_hidden"),void 0!==n){const e=o.find((e=>e.id===n));if(!e)return;(e=>{null==O||O.classList.add("hp_hidden"),M({body:k(e),title:e.title?`${e.title}｜placet experiri :: ${e.id}`:`placet experiri :: ${e.id}`,suffix:` :: ${e.id}`,description:`${e.plainText.substring(0,110)}…`,href:`${I}?id=${e.id}`})})(e)}else void 0!==i?((e,n,t)=>{M({body:D(e,n,t),title:`「${n}」｜placet experiri`})})(o,i,t):void 0!==t?((e,n)=>{M({body:j(e,n),title:`#${n}｜placet experiri`,href:`${I}?tag=${n}`})})(o,t):(e=>{M({body:C(e),title:"placet experiri",href:I})})(o);return(e=>document.querySelectorAll('a[href^="?"]').forEach((n=>{n.onclick=t=>{t.preventDefault(),window.history.pushState(void 0,"",n.href),q(e)}})))(o)}!function(){var e,t,i,o;e=this,t=void 0,o=function*(){const e=function(e){return[...e].reverse().map((e=>Object.assign(Object.assign({},e),{title:null===e.title||""===e.title?void 0:e.title,text:e.text.replaceAll("——","──").replaceAll("　"," ").replaceAll(/<a (href='[^?].+?'.*?)>(.+?)<\/a>/g,((e,n,t)=>`<a ${n} target='_blank' rel='noopener'>${t}</a>`)).replaceAll(/<p>([「『（].+?)<\/p>/g,((e,n)=>`<p style='text-indent: 0'>${n}</p>`)),plainText:e.text.replaceAll(/<("[^"]*"|'[^']*'|[^'">])*>/g,""),createdAt:y(e.createdAt),modifiedAt:y(e.modifiedAt)})))}(yield function(e){return n=this,t=void 0,o=function*(){const e=yield fetch("./posts.json");if(!e.ok)throw new Error(e.statusText);return yield e.json()},new((i=void 0)||(i=Promise))((function(e,r){function a(e){try{l(o.next(e))}catch(e){r(e)}}function s(e){try{l(o.throw(e))}catch(e){r(e)}}function l(n){var t;n.done?e(n.value):(t=n.value,t instanceof i?t:new i((function(e){e(t)}))).then(a,s)}l((o=o.apply(n,t||[])).next())}));var n,t,i,o}());var t;q(e),function(e){window.addEventListener("popstate",e)}(t=()=>q(e)),function(e){const n=document.querySelector(".el_search_form"),t=document.querySelector(".el_search_input");null==n||n.addEventListener("submit",(n=>{n.preventDefault(),window.history.pushState($(window.location.search,"#{searchInputElement.value}"),"",`${window.location.search}#${t.value}`),e()}))}(t),function(e){g.addListener((n=>{b=n.matches,e()}))}(t),function(e){class t extends HTMLElement{constructor(){super();const t=this.getAttribute("id");if(!t)return;const i=e.find((e=>e.id===parseInt(t,10)));if(!i)return;this.innerHTML=(e=>{const{isMobile:t}=v();return`\n    <div class="bl_blogCard">\n      <a href="?id=${e.id}" class="hp_unsetLink">\n        <header>\n          <div class="icon"></div>\n          <span class="logo">placet experiri</span>\n          <span class="suffix">:: ${e.id}</span>\n        </header>\n        ${e.title?`<div class="title">${e.title}</div>`:""}\n        ${(t?x:_)(e.plainText)}\n        <footer>\n          <span>${p(e.createdAt)}</span>\n          <ul class="tags">\n            ${e.tags.map((e=>n(e))).join("")}\n          </ul>\n        </footer>\n      </a>\n    </div>`})(i);const o=document.createElement("style");o.innerText="\n  .bl_blogCard {\n    font-size: 80%;\n    border: 1px solid var(--monochrome-light);\n    border-radius: 4px;\n    box-shadow: 0 0 2px var(--monochrome-midlight); /* around */\n    padding: 0.6em 1em;\n    margin: 1.25em 0.5em 1em;\n    box-sizing: border-box;\n  }\n  \n  @media screen and (min-width: 560px) {\n    .bl_blogCard {\n      margin: 1.5em 2.7em 1.25em; /* indent 2em */\n    }\n  }\n\n  .bl_blogCard header {\n    font-family: 'Avenir Next', 'Lucida Sans', sans-serif;\n    display: inline-flex;\n    color: var(--monochrome-dark);\n  }\n\n  .bl_blogCard .icon {\n    background-image: url(../../assets/icons/favicon.svg);\n    background-size: 100%;\n    background-repeat: no-repeat;\n    vertical-align: bottom;\n    margin-top: 0.4em;\n    width: 1.4em;\n    height: 1.4em;\n  }\n\n  .bl_blogCard .logo {\n    font-size: 130%;\n    color: var(--text-color);\n    margin-left: 0.2em;\n  }\n\n  .bl_blogCard .suffix {\n    color: var(--monochrome-dark);\n    font-size: 85%;\n    margin: 0.6em 0 0 0.3em;\n  }\n\n  .bl_blogCard .title {\n    font-weight: bold;\n    font-size: 120%;\n  }\n\n  .bl_blogCard .text {\n    margin: 0.3em 0;\n    text-align: left; /* unset */\n  }\n\n  .bl_blogCard footer {\n    color: var(--monochrome-dark);\n    display: inline-flex;\n    flex-wrap: wrap;\n  }\n\n  .bl_blogCard .tags {\n    display: inline-flex;\n    flex-wrap: wrap;\n    padding-left: 0.6em;\n  }\n\n  .bl_blogCard .tags li {\n    list-style: none; /* unset */\n    padding-right: 0.3em;\n  }\n",this.appendChild(o)}}window.customElements.define("blog-card",t)}(e),function(){const e=document.getElementById("about");(function(e,n){const t=e;return t.setDate(e.getDate()+15),f(new Date,t)})(new Date(w))&&(null==e||e.addEventListener("click",(()=>{localStorage.setItem(w,"true")})),"true"!==localStorage.getItem(w)&&(null==e||e.classList.add("el_badge")))}()},new((i=void 0)||(i=Promise))((function(n,r){function a(e){try{l(o.next(e))}catch(e){r(e)}}function s(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(a,s)}l((o=o.apply(e,t||[])).next())}))}()})()})();