(()=>{"use strict";var e={636:(e,t)=>{t.h8=t.Kx=t.O6=t.o=void 0,t.o=e=>(t,n)=>{if(void 0===n)return;const{maxLength:i=50,beforeLength:s=20}=null!=e?e:{},o=t.indexOf(n);if(-1===o)return;const r=o-s<=0?0:o-s,a=o+n.length,l=r+i;return{isBeforeEllipsed:0!==r,beforeText:t.substring(r,o),keyword:t.substring(o,a),afterText:t.substring(a,l),isAfterEllipsed:l<t.length}},t.O6=(e,n,i)=>(0,t.o)(i)(e,n),t.Kx=e=>(n,i)=>{const s=(0,t.O6)(n,i,e);if(void 0===s)return;const{elipsisToken:o="...",keywordModifier:r=(e=>e)}=null!=e?e:{};return(s.isBeforeEllipsed?o:"")+s.beforeText+r(s.keyword)+s.afterText+(s.isAfterEllipsed?o:"")},t.h8=(e,n,i)=>(0,t.Kx)(i)(e,n)}},t={};function n(i){var s=t[i];if(void 0!==s)return s.exports;var o=t[i]={exports:{}};return e[i](o,o.exports,n),o.exports}(()=>{const e=e=>`#${e}`,t=(t,n)=>`\n  <li>\n    <a href="?tag=${t}" class="hp_unsetLink">\n      ${t===n?(t=>`<strong>${e(t)}</strong>`)(t):e(t)}\n    </a>\n  </li>`,i=(e,n)=>`\n  <ul class="el_tagList">\n    ${e.map((e=>t(e,n))).join("")}\n  </ul>\n`,s=36e5,o=24*s,r={second:1e3,minute:6e4,hour:s,day:o,month:2592e6,year:31104e6},a=Object.keys(r);function l(e,t){return e/r[t]}const c=new Intl.DateTimeFormat("ja-JP",{dateStyle:"short"}),d=new Intl.DateTimeFormat("ja-JP",{dateStyle:"short",timeStyle:"short"}),u=new Intl.RelativeTimeFormat("ja-JP",{style:"narrow"});function p(e){return c.format(e).replaceAll("/","-")}function f(e,t){return e.getTime()<t.getTime()}const h={second:45,minute:45,hour:22,day:26,month:11,year:1/0};function m(e){const t=e.getTime()-(new Date).getTime(),n=a.find((e=>Math.abs(l(t,e))<h[e]));return n?u.format(Math.round(l(t,n)),n):""}const g=window.matchMedia("(max-width: 559px)");let _=g.matches;function v(){return{isMobile:_}}const b=e=>`\n  <p class="bl_blogCard_summary hp_alignJustify">\n    ${e.substring(0,74)}…\n  </p>\n`,y=e=>`\n  <p class="bl_blogCard_summary hp_ellipsis433">\n    ${e.substring(0,200)}\n  </p>\n`;const $="2022-02-02";function w(e){return/\+\d\d/.test(e)?new Date(e):new Date(`${e}+09:00`)}function x(e,t){const n=new URLSearchParams(e),i=n.get("id"),s=n.get("tag");return{id:i?parseInt(i,10):void 0,tag:null!=s?s:void 0,keyword:void 0===t||""===t?void 0:decodeURIComponent(t.replace("#",""))}}const L=e=>{return`\n  <section class="ly_container">\n    <article>\n      <header class="bl_text_header">\n        <time class="bl_text_date">\n          ${t=e.createdAt,d.format(t).replaceAll("/","-")}\n        </time>\n      </header>\n      <div class="bl_text">\n        ${e.title?`<h1>${e.title}</h1>`:""}\n        ${e.text}\n      </div>\n      <footer class="bl_text_footer">\n        <span class="bl_posts_dateago">\n          ${m(e.createdAt)}\n        </span>\n        ${i(e.tags)}\n      </footer>\n    </article>\n  </section>`;var t};var T=n(636);const A=e=>`<span class="hp_highlight">${e}</span>`,k=e=>`\n  <div class="bl_postList_summary">\n    <p class="hp_alignJustify">\n      ${e.substring(0,134)+"…"}\n    </p>\n  </div>`,E=e=>`\n  <div class="bl_postList_summary">\n    <p class="hp_ellipsis654">\n      ${e.substring(0,250)}\n    </p>\n  </div>`,S=e=>{const{post:t,tag:n,keyword:s}=e,{isMobile:o}=v(),r=(0,T.h8)(t.plainText,s,{maxLength:200,beforeLength:48,keywordModifier:A});return`\n    <li\n      class="bl_postList_item"\n      style="display: ${!s||r||t.title&&-1!==t.title.indexOf(s)?"block":"none"}"\n    >\n      <a href="?id=${t.id}">\n        <header class="bl_postList_header">\n          <time class="bl_postList_date">\n            ${p(t.createdAt)}\n          </time>\n        </header>\n        ${t.title?((e,t)=>`\n  <h2 class="bl_postList_title">\n    ${((e,t)=>t?e.replace(t,A(t)):e)(e,t)}\n  </h2>`)(t.title,s):""}\n        ${r?(e=>`\n  <div class="bl_postList_summary">\n    <p class="hp_ellipsis433">\n      ${e}\n    </p>\n  </div>`)(r):(o?k:E)(t.plainText)}\n      </a>\n      <footer class="bl_postList_footer">\n        <span class="bl_postList_dateago">\n          ${m(t.createdAt)}\n        </span>\n        ${i(t.tags,n)}\n      </footer>\n    </li>`},j=(e,t)=>{return`\n  <section class="ly_container">\n    ${t?(n=t,`<h2 class="el_archiveHeader">${n}</h2>`):""}\n    <ul class="bl_postList">\n      ${e}\n    </ul>\n  </section>`;var n},D=e=>j(e.map(((t,n)=>S({post:e[n]}))).reverse().join("")),I=(e,t)=>j(e.map(((n,i)=>n.tags.includes(t)?S({post:e[i],tag:t}):"")).reverse().join(""),`#${t}`),M=(e,t,n)=>j(e.map(((i,s)=>void 0===n||i.tags.includes(n)?S({post:e[s],tag:n,keyword:t}):"")).reverse().join(""),`「${t}」`);function C(e){var t;const n=document.querySelector(".el_logo_suffix"),i=document.querySelector("meta[name=description]");var s;if(s=e.body,document.getElementById("root").innerHTML=s,document.title=e.title,n.innerText=null!==(t=e.suffix)&&void 0!==t?t:"",e.description&&(i.content=e.description),e.href){document.querySelectorAll('link[rel="canonical"]').forEach((e=>e.remove()));const t=document.createElement("link");t.rel="canonical",t.href=e.href,document.head.appendChild(t)}}const O="https://kyonenya.github.io/",q=document.querySelector(".el_search_input");function P(e){const{id:t,tag:n,keyword:i}=x(window.location.search,window.location.hash),s=(o=window.location.href,/localhost:\d+/.test(o)?e:function(e){return e.filter((e=>f(e.createdAt,new Date)))}(e));var o;if(window.scrollTo(0,0),null==q||q.classList.remove("hp_hidden"),void 0!==t){const e=s.find((e=>e.id===t));if(!e)return;(e=>{null==q||q.classList.add("hp_hidden"),C({body:L(e),title:e.title?`${e.title}｜placet experiri :: ${e.id}`:`placet experiri :: ${e.id}`,suffix:` :: ${e.id}`,description:`${e.plainText.substring(0,110)}…`,href:`${O}?id=${e.id}`})})(e)}else void 0!==i?((e,t,n)=>{C({body:M(e,t,n),title:`「${t}」｜placet experiri`})})(s,i,n):void 0!==n?((e,t)=>{C({body:I(e,t),title:`#${t}｜placet experiri`,href:`${O}?tag=${t}`})})(s,n):(e=>{C({body:D(e),title:"placet experiri",href:O})})(s);return(e=>document.querySelectorAll('a[href^="?"]').forEach((t=>{t.onclick=n=>{n.preventDefault(),window.history.pushState(void 0,"",t.href),P(e)}})))(s)}!function(){var e,n,i,s;e=this,n=void 0,s=function*(){const e=function(e){return[...e].reverse().map((e=>Object.assign(Object.assign({},e),{title:null===e.title||""===e.title?void 0:e.title,text:e.text.replaceAll("——","──").replaceAll("　"," ").replaceAll(/<a (href='[^?].+?'.*?)>(.+?)<\/a>/g,((e,t,n)=>`<a ${t} target='_blank' rel='noopener'>${n}</a>`)).replaceAll(/<p>([「『（].+?)<\/p>/g,((e,t)=>`<p style='text-indent: 0'>${t}</p>`)),plainText:e.text.replaceAll(/<("[^"]*"|'[^']*'|[^'">])*>/g,""),createdAt:w(e.createdAt),modifiedAt:w(e.modifiedAt)})))}(yield function(e){return t=this,n=void 0,s=function*(){const e=yield fetch("./posts.json");if(!e.ok)throw new Error(e.statusText);return yield e.json()},new((i=void 0)||(i=Promise))((function(e,o){function r(e){try{l(s.next(e))}catch(e){o(e)}}function a(e){try{l(s.throw(e))}catch(e){o(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(r,a)}l((s=s.apply(t,n||[])).next())}));var t,n,i,s}());var n;P(e),function(e){window.addEventListener("popstate",e)}(n=()=>P(e)),function(e){const t=document.querySelector(".el_search_form"),n=document.querySelector(".el_search_input");null==t||t.addEventListener("submit",(t=>{t.preventDefault(),window.history.pushState(x(window.location.search,"#{searchInputElement.value}"),"",`${window.location.search}#${n.value}`),e()}))}(n),function(e){g.addListener((t=>{_=t.matches,e()}))}(n),function(e){class n extends HTMLElement{constructor(){super();const n=this.getAttribute("id");if(!n)return;const i=e.find((e=>e.id===parseInt(n,10)));i&&(this.innerHTML=(e=>{const{isMobile:n}=v();return`\n    <div class="bl_blogCard">\n      <a href="?id=${e.id}" class="hp_unsetLink">\n        <header>\n          <div class="bl_blogCard_icon"></div>\n          <span class="bl_blogCard_logo">placet experiri</span>\n          <span class="bl_blogCard_suffix">:: ${e.id}</span>\n        </header>\n        ${e.title?`<div class="bl_blogCard_title">${e.title}</div>`:""}\n        ${(n?b:y)(e.plainText)}\n        <footer>\n          <span>${p(e.createdAt)}</span>\n          <ul class="bl_blogCard_tagList">\n            ${e.tags.map((e=>t(e))).join("")}\n          </ul>\n        </footer>\n      </a>\n    </div>`})(i))}}window.customElements.define("blog-card",n)}(e),function(){const e=document.getElementById("about");(function(e,t){const n=e;return n.setDate(e.getDate()+15),f(new Date,n)})(new Date($))&&(null==e||e.addEventListener("click",(()=>{localStorage.setItem($,"true")})),"true"!==localStorage.getItem($)&&(null==e||e.classList.add("el_badge")))}()},new((i=void 0)||(i=Promise))((function(t,o){function r(e){try{l(s.next(e))}catch(e){o(e)}}function a(e){try{l(s.throw(e))}catch(e){o(e)}}function l(e){var n;e.done?t(e.value):(n=e.value,n instanceof i?n:new i((function(e){e(n)}))).then(r,a)}l((s=s.apply(e,n||[])).next())}))}()})()})();