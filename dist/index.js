(()=>{"use strict";var e={636:(e,n)=>{n.h8=n.Kx=n.O6=n.o=void 0,n.o=e=>(n,t)=>{if(void 0===t)return;const{maxLength:o=50,beforeLength:i=20}=null!=e?e:{},r=n.indexOf(t);if(-1===r)return;const a=r-i<=0?0:r-i,l=r+t.length,s=a+o;return{isBeforeEllipsed:0!==a,beforeText:n.substring(a,r),keyword:n.substring(r,l),afterText:n.substring(l,s),isAfterEllipsed:s<n.length}},n.O6=(e,t,o)=>(0,n.o)(o)(e,t),n.Kx=e=>(t,o)=>{const i=(0,n.O6)(t,o,e);if(void 0===i)return;const{elipsisToken:r="...",keywordModifier:a=(e=>e)}=null!=e?e:{};return(i.isBeforeEllipsed?r:"")+i.beforeText+a(i.keyword)+i.afterText+(i.isAfterEllipsed?r:"")},n.h8=(e,t,o)=>(0,n.Kx)(o)(e,t)}},n={};function t(o){var i=n[o];if(void 0!==i)return i.exports;var r=n[o]={exports:{}};return e[o](r,r.exports,t),r.exports}(()=>{function e(...e){return e.map((e=>e||"")).join(" ")}const n=(n,t)=>n.map((n=>((n,t)=>`<li>\n    <a href="?tag=${n}" class="${e("hp_unsetLink",t&&"hp_bold")}">\n      #${n}\n    </a>\n  </li>`)(n,n===t))).join(""),o=["second","minute","hour","day","month","year"],i=36e5,r={second:1e3,minute:6e4,hour:i,day:864e5,month:6048e5,year:2592e6};function a(e,n){return e/r[n]}const l=new Intl.DateTimeFormat("ja-JP",{dateStyle:"short"}),s=new Intl.DateTimeFormat("ja-JP",{dateStyle:"short",timeStyle:"short"}),d=new Intl.RelativeTimeFormat("ja-JP",{style:"narrow"});function c(e){return l.format(e).replaceAll("/","-")}function u(e,n){return new Date(e).getTime()<new Date(n).getTime()}const p={second:45,minute:45,hour:22,day:26,month:11,year:1/0};function h(e){const n=new Date(e).getTime()-(new Date).getTime(),t=o.find((e=>Math.abs(Math.round(a(n,e)))<p[e]));return t?d.format(Math.round(a(n,t)),t):""}const f="2021-11-27",m=document.getElementById("about"),g=document.querySelector(".el_search_form"),b=document.querySelector(".el_search_input");function x(e){return/\+\d\d/.test(e)?new Date(e):new Date(`${e}+09:00`)}const v=e=>{return`\n  <article>\n    <header class="bl_text_header">\n      <time class="bl_text_date">\n        ${t=e.createdAt,s.format(t).replaceAll("/","-")}\n      </time>\n    </header>\n    <div class="bl_text">\n      ${e.title?`<h1>${e.title}</h1>`:""}\n      ${e.text}\n    </div>\n    <footer class="bl_text_footer">\n      <span class="bl_posts_dateago">\n        ${h(e.createdAt)}\n      </span>\n      <ul class="bl_tags">\n        ${n(e.tags)}\n      </ul>\n    </footer>\n  </article>`;var t};var _=t(636);const w=t=>{const{post:o,tag:i,keyword:r}=t,a=(0,_.h8)(o.plainText,r,{maxLength:50,beforeLength:20,elipsisToken:"…",keywordModifier:e=>`<span class="hp_highlight">${e}</span>`});return`\n    <li\n      class="${e("bl_posts_item",!(!r||a||o.title&&-1!==o.title.indexOf(r))&&"hp_hidden")}"\n    >\n      <a href="?id=${o.id}">\n        <header class="bl_posts_header">\n          <time class="bl_posts_date">\n            ${c(o.createdAt)}\n          </time>\n        </header>\n        ${o.title?((e,n)=>`\n  <h2 class="bl_posts_title">\n    ${n?e.replace(n,`<span class="hp_highlight">${n}</span>`):e}\n  </h2>`)(o.title,r):""}\n        ${((e,n)=>`\n  <div class="bl_posts_summary">\n    <p>\n      ${n||`${e.plainText.substring(0,e.title?134:113)}￼`}\n      …\n    </p>\n  </div>`)(o,a)}\n      </a>\n      <footer class="bl_posts_footer">\n        <span class="bl_posts_dateago">\n          ${h(o.createdAt)}\n        </span>\n        <ul class="bl_tags">\n          ${n(o.tags,i)}\n        </ul>\n      </footer>\n    </li>`},y=e=>`\n  <ul class="bl_posts">\n    ${e.map((n=>w({post:e[n.index]}))).join("")}\n  </ul>`,$=(e,n)=>`\n  <h2 class="el_archiveHeader">#${n}</h2>\n  <ul class="bl_posts">\n    ${e.map((t=>t.tags.includes(n)?w({post:e[t.index],tag:n}):"")).join("")}\n  </ul>`,k=(e,n,t)=>`\n  <h2 class="el_archiveHeader">「${n}」</h2>\n  <ul class="bl_posts">\n    ${e.map((o=>void 0===t||o.tags.includes(t)?w({post:e[o.index],tag:t,keyword:n}):"")).join("")}\n  </ul>`,T=document.getElementById("root"),A=document.querySelector(".el_logo_suffix"),L=document.querySelector("meta[name=description]");function D(e){var n,t;if(t=e.body,T.innerHTML=t,document.title=e.title,A.innerText=null!==(n=e.suffix)&&void 0!==n?n:"",e.description&&(L.content=e.description),e.href){document.querySelectorAll('link[rel="canonical"]').forEach((e=>e.remove()));const n=document.createElement("link");n.rel="canonical",n.href=e.href,document.head.appendChild(n)}}function E(e,n){const t=new URLSearchParams(e),o=t.get("id"),i=t.get("tag");return{id:o?parseInt(o,10):void 0,tag:null!=i?i:void 0,keyword:void 0!==n&&""!==n?decodeURIComponent(n.slice(1)):void 0}}const S="https://kyonenya.github.io/",C=document.querySelector(".el_search_input");function j(e){const{id:n,tag:t,keyword:o}=E(window.location.search,window.location.hash);if(window.scrollTo(0,0),null==C||C.classList.remove("hp_hidden"),void 0!==n){const t=e.find((e=>e.id===n));if(!t)return;(e=>{null==C||C.classList.add("hp_hidden"),D({body:v(e),title:e.title?`${e.title}｜placet experiri :: ${e.id}`:`placet experiri :: ${e.id}`,suffix:` :: ${e.id}`,description:`${e.plainText.substring(0,110)}…`,href:`${S}?id=${e.id}`})})(t)}else void 0!==o?((e,n,t)=>{D({body:k(e,n,t),title:`「${n}」｜placet experiri`})})(e,o,t):void 0!==t?((e,n)=>{D({body:$(e,n),title:`#${n}｜placet experiri`,href:`${S}?tag=${n}`})})(e,t):(e=>{D({body:y(e),title:"placet experiri",href:S})})(e);return(e=>{document.querySelectorAll('a[href^="?"]').forEach((n=>{n.onclick=t=>{t.preventDefault(),window.history.pushState(E(n.href),n.href,n.href),j(e)}}))})(e)}!function(){var e,t,o,i;e=this,t=void 0,i=function*(){const e=(e=>e.filter((e=>u(x(e.createdAt),new Date))).map(((e,n)=>Object.assign(Object.assign({},e),{index:n,title:null===e.title||""===e.title?void 0:e.title,text:e.text.replaceAll("——","──").replaceAll("　"," ").replaceAll(/<a (href='[^?].+?'.*?)>(.+?)<\/a>/g,"<a $1 target='_blank' rel='noopener'>$2</a>"),plainText:e.text.replaceAll(/<("[^"]*"|'[^']*'|[^'">])*>/g,""),createdAt:x(e.createdAt+"+09:00"),modifiedAt:x(e.modifiedAt)}))))(yield function(e){return n=this,t=void 0,i=function*(){const e=yield fetch("./posts.json");if(!e.ok)throw new Error(e.statusText);return yield e.json()},new((o=void 0)||(o=Promise))((function(e,r){function a(e){try{s(i.next(e))}catch(e){r(e)}}function l(e){try{s(i.throw(e))}catch(e){r(e)}}function s(n){var t;n.done?e(n.value):(t=n.value,t instanceof o?t:new o((function(e){e(t)}))).then(a,l)}s((i=i.apply(n,t||[])).next())}));var n,t,o,i}());var t;j(e),t=()=>j(e),window.addEventListener("popstate",t),null==g||g.addEventListener("submit",(n=>{n.preventDefault();const t=`${window.location.search}#${b.value}`;window.history.pushState(t,"",t),j(e)})),function(e){class t extends HTMLElement{constructor(){super();const t=this.getAttribute("id");if(!t)return;const o=e.find((e=>e.id===parseInt(t,10)));if(!o)return;this.innerHTML=(e=>`\n  <div class="bl_blogCard">\n    <a href="?id=${e.id}" class="hp_unsetLink">\n      <header>\n        <div class="icon"></div>\n        <span class="logo">placet experiri</span>\n        <span class="suffix">:: ${e.id}</span>\n      </header>\n      ${e.title?`<div class="title">${e.title}</div>`:""}\n      <p class="text">\n        ${e.plainText.substring(0,74)}…\n      </p>\n      <footer>\n        <span>${c(e.createdAt)}</span>\n        <ul class="tags">\n          ${n(e.tags)}\n        </ul>\n      </footer>\n    </a>\n  </div>`)(o);const i=document.createElement("style");i.innerText="\n  .bl_blogCard {\n    font-size: 80%;\n    border: 1px solid var(--monochrome-light);\n    border-radius: 4px;\n    box-shadow: 0 0 1px var(--monochrome-midlight); /* around */\n    padding: 0.6em 1em;\n    margin: 1.25em 0.5em 1em;\n    box-sizing: border-box;\n  }\n  \n  @media screen and (min-width: 560px) {\n    .bl_blogCard {\n      margin: 1.5em 2em 1.25em;\n    }\n  }\n\n  .bl_blogCard header {\n    font-family: 'Avenir Next', 'Lucida Sans', sans-serif;\n    display: inline-flex;\n    color: var(--monochrome-dark);\n  }\n\n  .bl_blogCard .icon {\n    background-image: url(../../assets/icons/favicon.svg);\n    background-size: 100%;\n    background-repeat: no-repeat;\n    vertical-align: bottom;\n    margin-top: 0.4em;\n    width: 1.4em;\n    height: 1.4em;\n  }\n\n  .bl_blogCard .logo {\n    font-size: 130%;\n    color: var(--text-color);\n    margin-left: 0.2em;\n  }\n\n  .bl_blogCard .suffix {\n    color: var(--monochrome-dark);\n    font-size: 85%;\n    margin: 0.6em 0 0 0.3em;\n  }\n\n  .bl_blogCard .title {\n    font-weight: bold;\n    font-size: 120%;\n  }\n\n  .bl_blogCard .text {\n    margin: 0.2em 0;\n  }\n\n  .bl_blogCard footer {\n    color: var(--monochrome-dark);\n    display: inline-flex;\n    flex-wrap: wrap;\n  }\n\n  .bl_blogCard .tags {\n    display: inline-flex;\n    flex-wrap: wrap;\n    padding-left: 0.6em;\n  }\n\n  .bl_blogCard .tags li {\n    list-style: none; /* unset */\n    padding-right: 0.3em;\n  }\n",this.appendChild(i)}}window.customElements.define("blog-card",t)}(e),function(e,n){const t=new Date(e);return t.setDate(t.getDate()+30),u(new Date,t)}(new Date(f))&&(null==m||m.addEventListener("click",(()=>{localStorage.setItem(f,"true")})),"true"!==localStorage.getItem(f)&&(null==m||m.classList.add("el_badge")))},new((o=void 0)||(o=Promise))((function(n,r){function a(e){try{s(i.next(e))}catch(e){r(e)}}function l(e){try{s(i.throw(e))}catch(e){r(e)}}function s(e){var t;e.done?n(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(a,l)}s((i=i.apply(e,t||[])).next())}))}()})()})();