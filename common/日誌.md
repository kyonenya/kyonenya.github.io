
- Windows用の日本語フォント（游ゴシックは見にくい）

脚注

オブジェクトのプロパティ、配列copy時の注意、式やメソッドチェーンの改行（jsリファクタリング）

——を──に。ダッシュを罫線に（これも配列copyの仕様を調べてから）

- 記事一覧表示でのpタグ削り、改行削除

- textwellの改行置換、Textasticのテンプレート機能（jsonの種づくり）を作る。

textwellでマークダウンからhtmlを作る機能も後ほど、正規表現を使って。

- < 3 5 >
いらない。使い道がない。

### 今後記事が増えたときの

記事一覧リストの全件表示が難しければどうするか
スクロール表示か、ページャーか。全件表示ページも作ってよいと思うけど。

全般的に、jsonファイルが重すぎるとき、どういう挙動になるか気になる。
現状だと、個別ページのロードのためにも全件ループが回っているかもしれない。
もしそうなら、そこを分離する必要がある。


- Twitter

- faviconファイルの謎

- data.json

- 記事内リンクが厄介になった。どうやってリンク内リンクを装飾するのかな。objectで誤魔化す、というのは面倒くさい。
→ 記事リストではaタグを削除するらしい（はてなブログがそう）。

- あとは早くパーマリンクを設定しないと、リンクとかも厄介になるぞ。

- shortTextを本物のタグ消えたやつを作る。

### 草稿以外のページの管理について（2020/04/07）

- 固定ページは最上位階層に置けばいい。これは全て手動のベタ打ちで構わない。

- 記事ページは一つのフォルダを作って、都度都度そこにリンクしていくとする。'archives'みたいなフォルダを。

- Worksページに記事を拾ってきて一覧全文表示、クリックすると個別ページにとぶ。とすると同じくjson管理になる。

- しかし今度は独立した記事を全てjsonに持たせたいので、一覧表示するべき記事もWorksページに手動で書いて選んで呼び出していけばいい。
ページ内のdiv#idを捜査して、それに対応するものに限ってhtmlを吐くやり方になる。ちょっと高度で面倒か。

- もし独立した記事さえもjsonで持たせるなら、manuscriptsとのidの振り方を分けるために、'article'階層内に入れてしまうのがよい。articleページも作成するとなおよい。

- jsonには改行なしhtmlを生成して転記していくという、ちょっと厄介なローカル上での仕事が必要。修正したいときに視認性が悪くて面倒。ま、Textwellで何とでもなるか。


- mdファイルから自動生成できるのが一番冴えていると思うが、ファイル操作が絡んで相当厄介。

- 独立記事はHTMLファイルを作成する、という方針をとるなら、metaタグ、ヘッダー・フッターの共通部品化は避けられない。ナビメニューのカテゴリを一つ増やしたら過去記事全てを書き換えるなどというのは馬鹿げているから。これを「インクルード」という。

- 要するに、中身を自動生成するか、中身以外を自動生成するかの違いだということに気づいた。前者の方が冴えているに決まっている。


## 方針 2020/03/31

- 逆転の発想：ブログサイトにする。トップページに投稿を表示して、メニューからWorksとかに飛べるようにする。

- hタグはマークアップのために使用し、h1も直接使えるようにする。ページ中央の太字はh0とする。


### 細かい点
- ヘッダー固定を解除する。メンテナンスを簡単にするため。

- 記事の固有idを逆順で割り振る。ページidとループカウンタiを区別する。

- 原則的には一覧ページと個別ページのレイアウトは共通にする。h2を個別ページでは大見出し、記事リストではただの太字にする、みたいな調整は最小限に抑える。

- 脚注、hrだけ実装したら完成。機会損失だから、早めに購読してGitPushすべし。

## JS
- 記事リスト、idを0飛ばして1から割り振り、かつ降順（99、98、…、2、1）とする。	

- 機械用のタイムスタンプ

- 記事個別ページのスクリプト整理。

- タイトル

- 続きを表示

- タグリストの実装（一番最後に）
hash#くらいは手動で書けばいいが、タグリストはどうやって生成すればいい。別の配列にあらかじめ書き出しておくしかないか。

## CSS

- タイトルをマークダウン##にするか、jsonにキーを追加するか。マークダウンなら、ポストリストでの##表示形式を変更（bl_textに上書き）せねばなるまい。
↑jsonにキーを追加するのは慎重にならねばならないし、要素の存在判定でif文を書くのは美しくない。コンセプトとしては、マークダウンのように、要素を直接マークアップできる領域を作るのが理想であり、タイトルもそのマークアップの一環として有れば良いだけ。

- セクション見出しにはh1タグ、ページタイトルを実装するときもh1タグ。h2タグ以下をマークアップに当てがう。

- 記事個別ページのCSS整理。

- ヘッダーのメタ情報これでいいのか

- ol, dlのデザイン調整。

- wrapper消したい

- テキストブロックの使い方、記事ごとかセクション全体か。やっぱ記事ごとかな、スクリプトの方がそうだし。

- h2見出しとテキストブロックを同階層に置く。テキストブロック内からh2見出しには直接触れられないようにする？で、記事タイトルにはh3を使う（せせこましいか？）。
衝突しているのは、マークダウン的観点からh2も直接マークアップに使いたいというのと、セクションごとの大見出しにだけh2を使いたいというhtmlの観点。マークダウンを優先しようかなあ。
h2見出し、同一ページに複数設定することがある。だから

冷静になれ。今のこれは、記事タイトルと普通の説明ページとの同一性を取ろうとして昏迷に陥っているのでは？h3見出しを共通化しようとして失敗してないか。いったん辞めよう。

- 自己紹介は簡単のためdlですませ、blocklistはスタイルガイドに移動する。。

- 両端から0.5emづつで表示するテキスト領域、と定義する。

- テキストクラス：要素に対するマークアップがそのまま反映される領域（マークダウンみたいな感じで）と定義する。


- h2にネガティブマージンを設定。冴えたやり方。

- ヘッダー・フッターを各記事個別・各記事リストに作る。

- 限界余白を.innerにつけるのは良くない。余白を全てに再設定。

- 記事詳細ページ、タイトルがないと表示が格好つかない。見出しボーダーが使えないので。

- 大見出しをページ中央揃えにするのも一手か？

- 余白をどこに設定する？部品に？それとも.textクラスに？
悩み中。見出しは標準余白つけるけどそれ以外は。

- 部品の名前は？左上、右下とか。infoとか。

- 記事リストボックス、携帯では単にボーダーでの区切りにする。

## JS済
- クエリ文字列
http://www-creators.com/archives/4463
を参考にした。

- 記事タイトル
長文を書く時はタイトルが欲しいし、その場合は個別ページに見出しも欲しい。if分岐は避けられないか。

・続きを表示
CSSでやるのは悪手、JavaScriptでやる。勉強してから。
http://black-flag.net/jquery/20121010-4227.html

- 日付表示
勉強したけどJSの日付計算は絶望的なのでライブラリに頼った。簡単に差分計算できたので実装はほぼ終了。あとは365日以上ならyears表示にする、0日前なら「今日」にする、とか細かい修正をしたら終わり。
https://www.yoheim.net/blog.php?q=20180201
↑これ、dotinstallにレッスンがあった。何でもあるやん。

- 記事一覧には要約だけ載せるかどうか問題。
300文字くらい？文字数制限の方法。改行削除は…しなくていいか。その点でははてブモバイルよりはnoteに近い。

- タグが無かったとき、div要素そのものを追記しないべきか、空のdivを追加するべきか。n日前が実装できるなら空を追加しようか。要するに記事リストボックスの下に余白がいつも欲しいわけだが、n日前の実装が簡単なのですぐできそう。
↑CSSで解決しそう、:empty擬似クラスで。

HTMLタグ削除
https://sourcecodestock.com/javascriptで文字列からhtmlタグを削除/

- パーマリンク
ファイルをあらかじめ数百個作っておくのはダサい。urlのクエリパラメータを使う。javascriptでできる。
	https://illbenet.jp/view/95
xxx.github.io?p=992
こんな感じかな。
でもどうやってテストするんだろ。アップロードしないとできないよな。

## CSS済
- はよ内容を自分のものにして（このまま公開したら剽窃になるので）さっさと公開してしまうこと。

- 表の謎の余白
https://qiita.com/macer_fkm/items/bac56f0f863a19cfd674

- 平行線で作った表を作る。お知らせとかに使う。

- a要素のスタイリング修正（挫折）
デフォルト（ベースグループ）でWikipedia仕様にして、後から下線無効とかで上書きしていく。
↑:visitedの扱いがあまりに厄介、詳細度が無駄に高いから上書きできない。デフォルトで青／紫にして後から無効化していく、というつもりだったが、むしろ無効化の方が厄介だと気づいた。競合や上書きを無くし、テキストクラス内のリンクだけを装飾する、というのが楽そう。現状維持。
・.5の謎。